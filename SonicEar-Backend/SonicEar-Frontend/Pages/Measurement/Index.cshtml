@page
@model measurementsModel
@{
}

 
<div id="app">
    {{errormessage}}
    <div class="">
        <div class="row">
            <div>
                <h3 class="table-header">
                    Målinger
                </h3>
                <!--Søgefelt for målinger -->
                <div class="search-div">
                    <div>
                        <input v-model="searchQuery" type="text" placeholder="Søg målinger:" style="background-color: #eaeaea; border-radius: 7px;box-shadow: rgba(0,0,0,0.1) 0px 0px 3px 2px inset; margin-bottom: 5px; margin-right: 5px;" />
                        <button class="search-button" v-on:click="search" style="background-color: #eaeaea; border-radius: 7px;box-shadow: rgba(0,0,0,0.1) 0px 0px 3px 2px inset; margin-bottom: 5px; margin-right: 5px;">Søg</button>
                    </div>
                </div>

                <table class="full-table shdw">
                    <thead>
                        <tr>
                            <th style="width: 50px;">
                                <a class="sort-link" v-bind:href="'/Measurement' + setSort('id')">#</a>
                            </th>
                            <th>
                                <a class="sort-link" v-bind:href="'/Measurement' + setSort('location')">Enhedens placering</a>
                            </th>
                            <th>
                                <a class="sort-link" v-bind:href="'/Measurement' + setSort('time')">Tidspunkt</a>
                            </th>
                            <th>
                                <a class="sort-link" v-bind:href="'/Measurement' + setSort('measurement')">Måling</a>
                            </th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr v-for="item in filteredItems" :key="item.id">
                            <td>
                                {{item.id}}
                            </td>
                            <td>
                                <a style="color:black; text-decoration: none; font-weight:450;"v-bind:href="'/device/details?id='+item.device.id"> {{item.device.location}} </a>
                            </td>
                            <td>
                                {{item.timeStamp}}
                            </td>
                            <td>
                                {{item.noiseLevel}}
                            </td>
                            <td>
                                <div v-bind:style="'background-color:' + getColor(item.noiseLevel)" class="level"></div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

        </div>
    </div>

<br/>
 
<div class="container">
    <div style="width:150px; margin-left:auto; margin-right:auto;">
            <button class="page-btn" v-on:click="setPage(currentPage-1)"><img src="~/images/pagearrow.png" style="width:60px; transform:rotate(180deg);" /></button>
            <button class="page-btn" v-on:click="setPage(currentPage+1)"><img src="~/images/pagearrow.png" style="width:60px;" /></button>
        </div>
</div> 


</div>


<script src="~/js/measurements.js"></script>