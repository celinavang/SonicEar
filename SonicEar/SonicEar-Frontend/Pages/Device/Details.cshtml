@page
@model SonicEar_Frontend.Pages.Device.DetailsModel
@{
}
<div id="app">
    <div class="group-form">
        <div style="float:right;">
            <a v-bind:href="'/Device/Edit?id=' + item.id">
                <button class="btn-round btn-circle shdw" style="margin-right:10px;">
                    <img src="/images/edit.png">
                </button>
            </a>
        </div>
        <div>
            <h3>Enheds ID: {{item.id}}</h3>
            <h4>Location: {{item.location}}</h4>
        </div>
    </div>
    

    <div>
        <div class="row">
            <div v-if="measurements">
                <br />
                <h3 class="table-header">
                    Målinger
                </h3>
                <table class="full-table shdw">
                    <thead>
                        <tr>
                            <th class="sort-link">#</th>
                            <th class="sort-link">Tidspunkt</th>
                            <th class="sort-link">Dato</th>
                            <th class="sort-link">Måling</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr v-for="item in paginatedItems">
                            
                            <td>
                                {{item.id}}
                            </td>
                            <td>
                                {{parseInt(item.timeStamp.slice(11,13))+2}}:{{item.timeStamp.slice(14,16)}}
                            </td>
                            <td>
                                {{item.timeStamp.slice(8,10)}}/{{item.timeStamp.slice(5,7)}}/{{item.timeStamp.slice(0,4)}}
                            </td>
                            <td>
                                {{String(item.noiseLevel).slice(0,5)}}
                            </td>
                            <td>
                                <div v-bind:style="'background-color:' + getColor(item.noiseLevel)" class="level"></div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

        </div>
    </div>

    <div class="container" v-if="measurements">
        <div style="width:150px; margin-left:auto; margin-right:auto; margin-top:30px">
            <button class="page-btn" v-on:click="setPage(currentPage-1)"><img src="~/images/pagearrow.png" style="width:60px; transform:rotate(180deg);" /></button>
            <button class="page-btn" v-on:click="setPage(currentPage+1)"><img src="~/images/pagearrow.png" style="width:60px;" /></button>
        </div>
    </div>
</div>
<script src="~/js/deviceInfo.js"></script>
